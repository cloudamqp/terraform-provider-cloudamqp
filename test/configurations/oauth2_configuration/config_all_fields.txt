resource "cloudamqp_oauth2_configuration" "oauth2_config" {
  instance_id                 = {{.InstanceID}}
  resource_server_id          = "{{.ResourceServerId}}"
  issuer                      = "{{.Issuer}}"
  preferred_username_claims   = {{or .PreferredUsernameClaims `["preferred_username", "username"]`}}
  scope_aliases              = {{or .ScopeAliases `{read = "read:all", write = "write:all"}`}}
  verify_aud                 = {{or .VerifyAud `true`}}
  oauth_client_id            = "{{or .OauthClientId `test-client-id`}}"
  oauth_scopes               = "{{or .OauthScopes `read write admin`}}"
}